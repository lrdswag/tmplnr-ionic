!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[52,56],{"4J71":function(n,i,o){"use strict";o.d(i,"a",(function(){return s}));var r=o("fXoL"),c=o("TEn/"),s=function(){var n=function(){function n(){t(this,n),this.logoUrl="https://media.publit.io/file/TMPLNR-2020.png",this.headerBanner="https://media.publit.io/file/header-D.png"}return e(n,[{key:"ngOnInit",value:function(){}}]),n}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Cb({type:n,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:8,vars:2,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light",2,"font-family","Quicksand, sans-serif"],["slot","end"],["src","/assets/icons/icon-128x128.png",1,"logo"]],template:function(t,n){1&t&&(r.Nb(0,"ion-header",0),r.Nb(1,"ion-toolbar",1),r.Nb(2,"ion-buttons",2),r.Jb(3,"ion-menu-button"),r.Mb(),r.Nb(4,"ion-title",3),r.zc(5),r.Mb(),r.Nb(6,"ion-buttons",4),r.Jb(7,"ion-img",5),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.dc("translucent",!0),r.yb(5),r.Bc(" ",n.pageTitle," "))},directives:[c.t,c.V,c.i,c.E,c.T,c.v],styles:[".logo[_ngcontent-%COMP%]{width:3rem;height:3rem;float:right}.header-img[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;margin-top:.7rem}"]}),n}()},jICo:function(n,e,i){"use strict";i.d(e,"a",(function(){return s}));var o=i("ofXK"),r=i("TEn/"),c=i("fXoL"),s=function(){var n=function n(){t(this,n)};return n.\u0275mod=c.Gb({type:n}),n.\u0275inj=c.Fb({factory:function(t){return new(t||n)},imports:[[o.c,r.W]]}),n}()},qllx:function(n,i,o){"use strict";o.r(i),o.d(i,"ShiftDetailsModule",(function(){return E}));var r=o("ofXK"),c=o("TEn/"),s=o("tyNb"),a=o("mrSG"),b=o("fXoL"),l=o("0IKw"),f=o("/u1d"),u=o("e8h1"),d=o("9Ku7"),m=o("4J71");function g(t,n){1&t&&(b.Nb(0,"ion-card",11),b.Nb(1,"ion-card-header"),b.Nb(2,"ion-card-title",12),b.zc(3,"Loading Shift Details..."),b.Mb(),b.Mb(),b.Nb(4,"ion-card-content"),b.Jb(5,"ion-spinner",13),b.Mb(),b.Mb())}function h(t,n){1&t&&(b.Nb(0,"ion-label",41),b.Jb(1,"ion-icon",42),b.zc(2," Pending Approval "),b.Mb())}function p(t,n){1&t&&(b.Nb(0,"ion-label",43),b.Jb(1,"ion-icon",44),b.zc(2," Shift Approved "),b.Mb())}function M(t,n){1&t&&(b.Nb(0,"ion-col",30),b.Nb(1,"ion-label",45),b.zc(2,"Primary "),b.Jb(3,"ion-icon",46),b.Mb(),b.Mb())}function y(t,n){1&t&&(b.Nb(0,"ion-col",30),b.Nb(1,"ion-label",47),b.zc(2,"Secondary "),b.Jb(3,"ion-icon",48),b.Mb(),b.Mb())}var N=function(t){return["/admin/shifts/edit/",t]};function v(t,n){if(1&t&&(b.Nb(0,"ion-col",25),b.Nb(1,"ion-button",49),b.Nb(2,"ion-label"),b.zc(3,"Edit"),b.Mb(),b.Mb(),b.Mb()),2&t){var e=b.Wb(2);b.yb(1),b.dc("routerLink",b.ic(1,N,e.shift.id))}}function C(t,n){if(1&t&&(b.Nb(0,"ion-label"),b.zc(1),b.Mb()),2&t){var e=b.Wb().$implicit;b.yb(1),b.Ac(e.subject)}}function z(t,n){1&t&&(b.Nb(0,"ion-label"),b.zc(1,"No Subject"),b.Mb())}var k=function(t){return["/comments/",t,"view"]};function O(t,n){if(1&t&&(b.Nb(0,"ion-item",51),b.Nb(1,"ion-col"),b.Nb(2,"ion-label"),b.zc(3,"Subject:"),b.Mb(),b.Jb(4,"br"),b.xc(5,C,2,1,"ion-label",40),b.xc(6,z,2,0,"ion-label",40),b.Mb(),b.Nb(7,"ion-col"),b.Nb(8,"ion-label"),b.zc(9,"From:"),b.Mb(),b.Jb(10,"br"),b.Nb(11,"ion-label"),b.zc(12),b.Mb(),b.Mb(),b.Mb()),2&t){var e=n.$implicit;b.dc("routerLink",b.ic(5,k,e.id)),b.yb(5),b.dc("ngIf",e.subject),b.yb(1),b.dc("ngIf",!e.subject),b.yb(6),b.Cc("",e.authoredBy.firstName," ",e.authoredBy.lastName,"")}}function P(t,n){if(1&t&&(b.Nb(0,"div"),b.xc(1,O,13,7,"ion-item",50),b.Mb()),2&t){var e=b.Wb(2);b.yb(1),b.dc("ngForOf",e.comments)}}var x=function(t){return["/shifts/",t,"on-duty"]},_=function(t){return["/shifts/",t,"comments","add"]};function I(t,n){if(1&t&&(b.Nb(0,"div"),b.Nb(1,"ion-card"),b.Nb(2,"ion-list",14),b.Nb(3,"ion-item"),b.Nb(4,"ion-label",15),b.zc(5," Current Date & Time "),b.Mb(),b.Mb(),b.Nb(6,"ion-item"),b.Nb(7,"ion-label",16),b.zc(8),b.Xb(9,"date"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(10,"ion-card"),b.Nb(11,"ion-card-content"),b.Nb(12,"ion-list",17),b.Nb(13,"ion-item"),b.Nb(14,"ion-col",18),b.xc(15,h,3,0,"ion-label",19),b.xc(16,p,3,0,"ion-label",20),b.Mb(),b.Mb(),b.Nb(17,"ion-item",21),b.Nb(18,"ion-col",22),b.Nb(19,"ion-label",23),b.zc(20,"On Duty:"),b.Mb(),b.Mb(),b.Jb(21,"ion-col",24),b.Nb(22,"ion-col",25),b.Nb(23,"ion-label",26),b.zc(24),b.Mb(),b.Mb(),b.Mb(),b.Nb(25,"ion-item"),b.Nb(26,"ion-col",22),b.Nb(27,"ion-label",27),b.zc(28," Call Level: "),b.Mb(),b.Mb(),b.Jb(29,"ion-col",24),b.xc(30,M,4,0,"ion-col",28),b.xc(31,y,4,0,"ion-col",28),b.Mb(),b.Nb(32,"ion-item"),b.Nb(33,"ion-col",22),b.Nb(34,"ion-label",29),b.zc(35,"Shift Date:"),b.Mb(),b.Mb(),b.Jb(36,"ion-col",24),b.Nb(37,"ion-col",30),b.Nb(38,"ion-label",31),b.zc(39),b.Xb(40,"date"),b.Mb(),b.Mb(),b.Mb(),b.Nb(41,"ion-item"),b.Nb(42,"ion-col",22),b.Nb(43,"ion-label",32),b.zc(44,"Start Time:"),b.Mb(),b.Mb(),b.Jb(45,"ion-col",24),b.Nb(46,"ion-col",30),b.Nb(47,"ion-label",33),b.zc(48),b.Xb(49,"date"),b.Mb(),b.Mb(),b.Mb(),b.Nb(50,"ion-item"),b.Nb(51,"ion-col",22),b.Nb(52,"ion-label",34),b.zc(53,"End Time:"),b.Mb(),b.Mb(),b.Jb(54,"ion-col",24),b.Nb(55,"ion-col",30),b.Nb(56,"ion-label",35),b.zc(57),b.Xb(58,"date"),b.Mb(),b.Mb(),b.Mb(),b.Nb(59,"ion-item",14),b.Nb(60,"ion-col",25),b.Nb(61,"ion-button",36),b.Jb(62,"ion-icon",37),b.Nb(63,"ion-label",38),b.zc(64,"Comment"),b.Mb(),b.Mb(),b.Mb(),b.xc(65,v,4,3,"ion-col",39),b.Mb(),b.xc(66,P,2,1,"div",40),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&t){var e=b.Wb();b.yb(8),b.Bc(" ",b.Zb(9,14,e.date,"full")," "),b.yb(7),b.dc("ngIf",!1===e.shift.isApproved),b.yb(1),b.dc("ngIf",!0===e.shift.isApproved),b.yb(1),b.dc("routerLink",b.ic(26,x,e.shift.onDuty.id)),b.yb(7),b.Cc("",e.shift.onDuty.firstName," ",e.shift.onDuty.lastName,""),b.yb(6),b.dc("ngIf","primary"===e.shift.ShiftStatus),b.yb(1),b.dc("ngIf","secondary"===e.shift.ShiftStatus),b.yb(8),b.Ac(b.Zb(40,17,e.shift.start,"dd MMMM yyyy")),b.yb(9),b.Ac(b.Zb(49,20,e.shift.start,"shortTime")),b.yb(9),b.Ac(b.Zb(58,23,e.shift.end,"shortTime")),b.yb(4),b.dc("routerLink",b.ic(28,_,e.shift.id)),b.yb(4),b.dc("ngIf",!0===e.userIsAdmin),b.yb(1),b.dc("ngIf",e.comments)}}var w,S,J,A=function(){return["Shift Details"]},T=function(){return["/users/profile"]},L=[{path:"",component:(w=function(){function n(e,i,o,r,c,s){var a=this;t(this,n),this.route=e,this.router=i,this.shiftsService=o,this.commentsService=r,this.storage=c,this.authService=s,this.date=new Date,this.authService.isAdmin.asObservable().subscribe((function(t){return a.userIsAdmin=t})),this.isAdmin()}return e(n,[{key:"getAdminStatus",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.storage.get("roles");case 3:return n=t.sent,t.abrupt("return",(console.log(n),n));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"isAdmin",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAdminStatus();case 2:n=t.sent,this.userIsAdmin=2===n.length;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.route.snapshot.paramMap.get("id"),this.loadShift(n),this.getComments(n),setInterval((function(){e.date=new Date}),1e3);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnChanges",value:function(t){this.loadShift(this.shift.id),this.getComments(this.shift.id)}},{key:"loadShift",value:function(t){var n=this;this.shiftsService.getShiftById(t).subscribe((function(t){return n.shift=t}))}},{key:"getComments",value:function(t){var n=this;this.commentsService.getCommentsForShift(t).subscribe((function(t){return n.comments=t}))}}]),n}(),w.\u0275fac=function(t){return new(t||w)(b.Ib(s.a),b.Ib(s.f),b.Ib(l.a),b.Ib(f.a),b.Ib(u.b),b.Ib(d.a))},w.\u0275cmp=b.Cb({type:w,selectors:[["app-shift-details"]],features:[b.wb],decls:18,vars:11,consts:[[3,"pageTitle"],["loading",""],[4,"ngIf","ngIfElse"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/shifts/list","text","Back",2,"font-size","0.8rem","font-family","Quicksand, sans-serif"],[2,"font-size","0.8rem","font-family","Quicksand, sans-serif","text-align","center"],["slot","end"],[2,"font-size","0.8rem","font-family","Quicksand, sans-serif",3,"routerLink"],["slot","end","name","person-outline"],[1,"top-card"],[1,"ion-text-center"],[1,"spinner"],["lines","none"],[1,"top-card-title"],[1,"top-card-subtitle"],["lines","indent"],["size","12"],["class","pending-approval",4,"ngIf"],["class","approved",4,"ngIf"],["color","light","detail","true",3,"routerLink"],["size","4"],[1,"on-duty"],["size","1"],["size","6"],[1,"name"],[1,"call-level-title"],["size","7",4,"ngIf"],[1,"date-title"],["size","7"],[1,"date"],[1,"start-title"],[1,"start-time"],[1,"finish-title"],[1,"finish-time"],["color","success","fill","clear",3,"routerLink"],["slot","start","name","add-circle-outline"],["size","small"],["size","6",4,"ngIf"],[4,"ngIf"],[1,"pending-approval"],["slot","start","name","close-circle-outline"],[1,"approved"],["slot","start","name","checkmark-circle-outline"],[1,"primary"],["color","success","size","default","slot","end","name","person-circle-outline"],[1,"secondary"],["color","secondary","slot","end","name","person-circle-outline"],["color","warning","size","block",3,"routerLink"],["style","font-size: 0.8rem; font-family: Quicksand, sans-serif;","detail","true",3,"routerLink",4,"ngFor","ngForOf"],["detail","true",2,"font-size","0.8rem","font-family","Quicksand, sans-serif",3,"routerLink"]],template:function(t,n){if(1&t&&(b.Jb(0,"app-header",0),b.Nb(1,"ion-content"),b.xc(2,g,6,0,"ng-template",null,1,b.yc),b.xc(4,I,67,30,"div",2),b.Mb(),b.Nb(5,"ion-footer",3),b.Nb(6,"ion-toolbar",4),b.Nb(7,"ion-buttons",5),b.Jb(8,"ion-back-button",6),b.Mb(),b.Nb(9,"ion-title",7),b.Nb(10,"h5"),b.zc(11),b.Xb(12,"date"),b.Mb(),b.Mb(),b.Nb(13,"ion-buttons",8),b.Nb(14,"ion-button",9),b.Jb(15,"ion-icon",10),b.Nb(16,"ion-label"),b.zc(17,"Profile"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&t){var e=b.rc(3);b.dc("pageTitle",b.hc(9,A)),b.yb(4),b.dc("ngIf",n.shift)("ngIfElse",e),b.yb(1),b.dc("translucent",!0),b.yb(6),b.Ac(b.Zb(12,6,n.date,"shortTime")),b.yb(3),b.dc("routerLink",b.hc(10,T))}},directives:[m.a,c.q,r.m,c.s,c.V,c.i,c.f,c.g,c.T,c.h,c.eb,s.g,c.u,c.A,c.j,c.l,c.n,c.k,c.O,c.B,c.x,c.p,r.l],pipes:[r.e],styles:[".top-card[_ngcontent-%COMP%]{padding:2rem;margin-top:3rem}.spinner[_ngcontent-%COMP%]{position:absolute;left:45%;right:45%}.top-card-subtitle[_ngcontent-%COMP%], .top-card-title[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;text-align:center}.top-card-subtitle[_ngcontent-%COMP%]{font-size:.7rem}.pending-approval[_ngcontent-%COMP%]{color:#c79b2e}.approved[_ngcontent-%COMP%], .pending-approval[_ngcontent-%COMP%]{text-align:center;font-family:Quicksand,sans-serif}.approved[_ngcontent-%COMP%]{color:#0b0}.call-level-title[_ngcontent-%COMP%]{font-size:.8rem;text-align:right;font-family:Quicksand,sans-serif}.name[_ngcontent-%COMP%], .primary[_ngcontent-%COMP%], .secondary[_ngcontent-%COMP%]{text-align:left}.name[_ngcontent-%COMP%], .on-duty[_ngcontent-%COMP%], .primary[_ngcontent-%COMP%], .secondary[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.on-duty[_ngcontent-%COMP%]{text-align:right}.date[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif;text-align:left}.date-title[_ngcontent-%COMP%], .start-title[_ngcontent-%COMP%]{text-align:right}.date-title[_ngcontent-%COMP%], .start-time[_ngcontent-%COMP%], .start-title[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.start-time[_ngcontent-%COMP%]{text-align:left}.finish-title[_ngcontent-%COMP%]{text-align:right}.finish-time[_ngcontent-%COMP%], .finish-title[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.finish-time[_ngcontent-%COMP%]{text-align:left}.locked-text[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-size:.8rem;text-align:center}.locked-span[_ngcontent-%COMP%]{color:#0d0d0d;font-size:.7rem}"]}),w)}],j=((S=function n(){t(this,n)}).\u0275mod=b.Gb({type:S}),S.\u0275inj=b.Fb({factory:function(t){return new(t||S)},imports:[[s.i.forChild(L)],s.i]}),S),Q=o("tk/3"),D=o("jICo"),X=o("WR+W"),E=((J=function n(){t(this,n)}).\u0275mod=b.Gb({type:J}),J.\u0275inj=b.Fb({factory:function(t){return new(t||J)},providers:[l.a,d.a,f.a,{provide:Q.a,useClass:X.a,multi:!0}],imports:[[r.c,c.W,j,D.a,Q.c]]}),J)}}])}();