(window.webpackJsonp=window.webpackJsonp||[]).push([[52,56],{"4J71":function(t,n,i){"use strict";i.d(n,"a",(function(){return s}));var e=i("fXoL"),o=i("TEn/");let s=(()=>{class t{constructor(){this.logoUrl="https://media.publit.io/file/TMPLNR-2020.png",this.headerBanner="https://media.publit.io/file/header-D.png"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Cb({type:t,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:8,vars:2,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light",2,"font-family","Quicksand, sans-serif"],["slot","end"],["src","/assets/icons/icon-128x128.png",1,"logo"]],template:function(t,n){1&t&&(e.Nb(0,"ion-header",0),e.Nb(1,"ion-toolbar",1),e.Nb(2,"ion-buttons",2),e.Jb(3,"ion-menu-button"),e.Mb(),e.Nb(4,"ion-title",3),e.zc(5),e.Mb(),e.Nb(6,"ion-buttons",4),e.Jb(7,"ion-img",5),e.Mb(),e.Mb(),e.Mb()),2&t&&(e.dc("translucent",!0),e.yb(5),e.Bc(" ",n.pageTitle," "))},directives:[o.t,o.V,o.i,o.E,o.T,o.v],styles:[".logo[_ngcontent-%COMP%]{width:3rem;height:3rem;float:right}.header-img[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;margin-top:.7rem}"]}),t})()},jICo:function(t,n,i){"use strict";i.d(n,"a",(function(){return c}));var e=i("ofXK"),o=i("TEn/"),s=i("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(n){return new(n||t)},imports:[[e.c,o.W]]}),t})()},qllx:function(t,n,i){"use strict";i.r(n),i.d(n,"ShiftDetailsModule",(function(){return T}));var e=i("ofXK"),o=i("TEn/"),s=i("tyNb"),c=i("mrSG"),r=i("fXoL"),b=i("0IKw"),a=i("/u1d"),l=i("e8h1"),f=i("9Ku7"),d=i("4J71");function u(t,n){1&t&&(r.Nb(0,"ion-card",11),r.Nb(1,"ion-card-header"),r.Nb(2,"ion-card-title",12),r.zc(3,"Loading Shift Details..."),r.Mb(),r.Mb(),r.Nb(4,"ion-card-content"),r.Jb(5,"ion-spinner",13),r.Mb(),r.Mb())}function m(t,n){1&t&&(r.Nb(0,"ion-label",41),r.Jb(1,"ion-icon",42),r.zc(2," Pending Approval "),r.Mb())}function g(t,n){1&t&&(r.Nb(0,"ion-label",43),r.Jb(1,"ion-icon",44),r.zc(2," Shift Approved "),r.Mb())}function M(t,n){1&t&&(r.Nb(0,"ion-col",30),r.Nb(1,"ion-label",45),r.zc(2,"Primary "),r.Jb(3,"ion-icon",46),r.Mb(),r.Mb())}function h(t,n){1&t&&(r.Nb(0,"ion-col",30),r.Nb(1,"ion-label",47),r.zc(2,"Secondary "),r.Jb(3,"ion-icon",48),r.Mb(),r.Mb())}const p=function(t){return["/admin/shifts/edit/",t]};function y(t,n){if(1&t&&(r.Nb(0,"ion-col",25),r.Nb(1,"ion-button",49),r.Nb(2,"ion-label"),r.zc(3,"Edit"),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Wb(2);r.yb(1),r.dc("routerLink",r.ic(1,p,t.shift.id))}}function N(t,n){if(1&t&&(r.Nb(0,"ion-label"),r.zc(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.yb(1),r.Ac(t.subject)}}function C(t,n){1&t&&(r.Nb(0,"ion-label"),r.zc(1,"No Subject"),r.Mb())}const z=function(t){return["/comments/",t,"view"]};function v(t,n){if(1&t&&(r.Nb(0,"ion-item",51),r.Nb(1,"ion-col"),r.Nb(2,"ion-label"),r.zc(3,"Subject:"),r.Mb(),r.Jb(4,"br"),r.xc(5,N,2,1,"ion-label",40),r.xc(6,C,2,0,"ion-label",40),r.Mb(),r.Nb(7,"ion-col"),r.Nb(8,"ion-label"),r.zc(9,"From:"),r.Mb(),r.Jb(10,"br"),r.Nb(11,"ion-label"),r.zc(12),r.Mb(),r.Mb(),r.Mb()),2&t){const t=n.$implicit;r.dc("routerLink",r.ic(5,z,t.id)),r.yb(5),r.dc("ngIf",t.subject),r.yb(1),r.dc("ngIf",!t.subject),r.yb(6),r.Cc("",t.authoredBy.firstName," ",t.authoredBy.lastName,"")}}function O(t,n){if(1&t&&(r.Nb(0,"div"),r.xc(1,v,13,7,"ion-item",50),r.Mb()),2&t){const t=r.Wb(2);r.yb(1),r.dc("ngForOf",t.comments)}}const P=function(t){return["/shifts/",t,"on-duty"]},k=function(t){return["/shifts/",t,"comments","add"]};function _(t,n){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"ion-card"),r.Nb(2,"ion-list",14),r.Nb(3,"ion-item"),r.Nb(4,"ion-label",15),r.zc(5," Current Date & Time "),r.Mb(),r.Mb(),r.Nb(6,"ion-item"),r.Nb(7,"ion-label",16),r.zc(8),r.Xb(9,"date"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(10,"ion-card"),r.Nb(11,"ion-card-content"),r.Nb(12,"ion-list",17),r.Nb(13,"ion-item"),r.Nb(14,"ion-col",18),r.xc(15,m,3,0,"ion-label",19),r.xc(16,g,3,0,"ion-label",20),r.Mb(),r.Mb(),r.Nb(17,"ion-item",21),r.Nb(18,"ion-col",22),r.Nb(19,"ion-label",23),r.zc(20,"On Duty:"),r.Mb(),r.Mb(),r.Jb(21,"ion-col",24),r.Nb(22,"ion-col",25),r.Nb(23,"ion-label",26),r.zc(24),r.Mb(),r.Mb(),r.Mb(),r.Nb(25,"ion-item"),r.Nb(26,"ion-col",22),r.Nb(27,"ion-label",27),r.zc(28," Call Level: "),r.Mb(),r.Mb(),r.Jb(29,"ion-col",24),r.xc(30,M,4,0,"ion-col",28),r.xc(31,h,4,0,"ion-col",28),r.Mb(),r.Nb(32,"ion-item"),r.Nb(33,"ion-col",22),r.Nb(34,"ion-label",29),r.zc(35,"Shift Date:"),r.Mb(),r.Mb(),r.Jb(36,"ion-col",24),r.Nb(37,"ion-col",30),r.Nb(38,"ion-label",31),r.zc(39),r.Xb(40,"date"),r.Mb(),r.Mb(),r.Mb(),r.Nb(41,"ion-item"),r.Nb(42,"ion-col",22),r.Nb(43,"ion-label",32),r.zc(44,"Start Time:"),r.Mb(),r.Mb(),r.Jb(45,"ion-col",24),r.Nb(46,"ion-col",30),r.Nb(47,"ion-label",33),r.zc(48),r.Xb(49,"date"),r.Mb(),r.Mb(),r.Mb(),r.Nb(50,"ion-item"),r.Nb(51,"ion-col",22),r.Nb(52,"ion-label",34),r.zc(53,"End Time:"),r.Mb(),r.Mb(),r.Jb(54,"ion-col",24),r.Nb(55,"ion-col",30),r.Nb(56,"ion-label",35),r.zc(57),r.Xb(58,"date"),r.Mb(),r.Mb(),r.Mb(),r.Nb(59,"ion-item",14),r.Nb(60,"ion-col",25),r.Nb(61,"ion-button",36),r.Jb(62,"ion-icon",37),r.Nb(63,"ion-label",38),r.zc(64,"Comment"),r.Mb(),r.Mb(),r.Mb(),r.xc(65,y,4,3,"ion-col",39),r.Mb(),r.xc(66,O,2,1,"div",40),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Wb();r.yb(8),r.Bc(" ",r.Zb(9,14,t.date,"full")," "),r.yb(7),r.dc("ngIf",!1===t.shift.isApproved),r.yb(1),r.dc("ngIf",!0===t.shift.isApproved),r.yb(1),r.dc("routerLink",r.ic(26,P,t.shift.onDuty.id)),r.yb(7),r.Cc("",t.shift.onDuty.firstName," ",t.shift.onDuty.lastName,""),r.yb(6),r.dc("ngIf","primary"===t.shift.ShiftStatus),r.yb(1),r.dc("ngIf","secondary"===t.shift.ShiftStatus),r.yb(8),r.Ac(r.Zb(40,17,t.shift.start,"dd MMMM yyyy")),r.yb(9),r.Ac(r.Zb(49,20,t.shift.start,"shortTime")),r.yb(9),r.Ac(r.Zb(58,23,t.shift.end,"shortTime")),r.yb(4),r.dc("routerLink",r.ic(28,k,t.shift.id)),r.yb(4),r.dc("ngIf",!0===t.userIsAdmin),r.yb(1),r.dc("ngIf",t.comments)}}const I=function(){return["Shift Details"]},x=function(){return["/users/profile"]},S=[{path:"",component:(()=>{class t{constructor(t,n,i,e,o,s){this.route=t,this.router=n,this.shiftsService=i,this.commentsService=e,this.storage=o,this.authService=s,this.date=new Date,this.authService.isAdmin.asObservable().subscribe(t=>this.userIsAdmin=t),this.isAdmin()}getAdminStatus(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.storage.get("roles");return console.log(t),t}catch(t){console.log(t)}}))}isAdmin(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.getAdminStatus();this.userIsAdmin=2===t.length}))}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.route.snapshot.paramMap.get("id");this.loadShift(t),this.getComments(t),setInterval(()=>{this.date=new Date},1e3)}))}ngOnChanges(t){this.loadShift(this.shift.id),this.getComments(this.shift.id)}loadShift(t){this.shiftsService.getShiftById(t).subscribe(t=>this.shift=t)}getComments(t){this.commentsService.getCommentsForShift(t).subscribe(t=>this.comments=t)}}return t.\u0275fac=function(n){return new(n||t)(r.Ib(s.a),r.Ib(s.f),r.Ib(b.a),r.Ib(a.a),r.Ib(l.b),r.Ib(f.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-shift-details"]],features:[r.wb],decls:18,vars:11,consts:[[3,"pageTitle"],["loading",""],[4,"ngIf","ngIfElse"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/shifts/list","text","Back",2,"font-size","0.8rem","font-family","Quicksand, sans-serif"],[2,"font-size","0.8rem","font-family","Quicksand, sans-serif","text-align","center"],["slot","end"],[2,"font-size","0.8rem","font-family","Quicksand, sans-serif",3,"routerLink"],["slot","end","name","person-outline"],[1,"top-card"],[1,"ion-text-center"],[1,"spinner"],["lines","none"],[1,"top-card-title"],[1,"top-card-subtitle"],["lines","indent"],["size","12"],["class","pending-approval",4,"ngIf"],["class","approved",4,"ngIf"],["color","light","detail","true",3,"routerLink"],["size","4"],[1,"on-duty"],["size","1"],["size","6"],[1,"name"],[1,"call-level-title"],["size","7",4,"ngIf"],[1,"date-title"],["size","7"],[1,"date"],[1,"start-title"],[1,"start-time"],[1,"finish-title"],[1,"finish-time"],["color","success","fill","clear",3,"routerLink"],["slot","start","name","add-circle-outline"],["size","small"],["size","6",4,"ngIf"],[4,"ngIf"],[1,"pending-approval"],["slot","start","name","close-circle-outline"],[1,"approved"],["slot","start","name","checkmark-circle-outline"],[1,"primary"],["color","success","size","default","slot","end","name","person-circle-outline"],[1,"secondary"],["color","secondary","slot","end","name","person-circle-outline"],["color","warning","size","block",3,"routerLink"],["style","font-size: 0.8rem; font-family: Quicksand, sans-serif;","detail","true",3,"routerLink",4,"ngFor","ngForOf"],["detail","true",2,"font-size","0.8rem","font-family","Quicksand, sans-serif",3,"routerLink"]],template:function(t,n){if(1&t&&(r.Jb(0,"app-header",0),r.Nb(1,"ion-content"),r.xc(2,u,6,0,"ng-template",null,1,r.yc),r.xc(4,_,67,30,"div",2),r.Mb(),r.Nb(5,"ion-footer",3),r.Nb(6,"ion-toolbar",4),r.Nb(7,"ion-buttons",5),r.Jb(8,"ion-back-button",6),r.Mb(),r.Nb(9,"ion-title",7),r.Nb(10,"h5"),r.zc(11),r.Xb(12,"date"),r.Mb(),r.Mb(),r.Nb(13,"ion-buttons",8),r.Nb(14,"ion-button",9),r.Jb(15,"ion-icon",10),r.Nb(16,"ion-label"),r.zc(17,"Profile"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.rc(3);r.dc("pageTitle",r.hc(9,I)),r.yb(4),r.dc("ngIf",n.shift)("ngIfElse",t),r.yb(1),r.dc("translucent",!0),r.yb(6),r.Ac(r.Zb(12,6,n.date,"shortTime")),r.yb(3),r.dc("routerLink",r.hc(10,x))}},directives:[d.a,o.q,e.m,o.s,o.V,o.i,o.f,o.g,o.T,o.h,o.eb,s.g,o.u,o.A,o.j,o.l,o.n,o.k,o.O,o.B,o.x,o.p,e.l],pipes:[e.e],styles:[".top-card[_ngcontent-%COMP%]{padding:2rem;margin-top:3rem}.spinner[_ngcontent-%COMP%]{position:absolute;left:45%;right:45%}.top-card-subtitle[_ngcontent-%COMP%], .top-card-title[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;text-align:center}.top-card-subtitle[_ngcontent-%COMP%]{font-size:.7rem}.pending-approval[_ngcontent-%COMP%]{color:#c79b2e}.approved[_ngcontent-%COMP%], .pending-approval[_ngcontent-%COMP%]{text-align:center;font-family:Quicksand,sans-serif}.approved[_ngcontent-%COMP%]{color:#0b0}.call-level-title[_ngcontent-%COMP%]{font-size:.8rem;text-align:right;font-family:Quicksand,sans-serif}.name[_ngcontent-%COMP%], .primary[_ngcontent-%COMP%], .secondary[_ngcontent-%COMP%]{text-align:left}.name[_ngcontent-%COMP%], .on-duty[_ngcontent-%COMP%], .primary[_ngcontent-%COMP%], .secondary[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.on-duty[_ngcontent-%COMP%]{text-align:right}.date[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif;text-align:left}.date-title[_ngcontent-%COMP%], .start-title[_ngcontent-%COMP%]{text-align:right}.date-title[_ngcontent-%COMP%], .start-time[_ngcontent-%COMP%], .start-title[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.start-time[_ngcontent-%COMP%]{text-align:left}.finish-title[_ngcontent-%COMP%]{text-align:right}.finish-time[_ngcontent-%COMP%], .finish-title[_ngcontent-%COMP%]{font-size:.8rem;font-family:Quicksand,sans-serif}.finish-time[_ngcontent-%COMP%]{text-align:left}.locked-text[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-size:.8rem;text-align:center}.locked-span[_ngcontent-%COMP%]{color:#0d0d0d;font-size:.7rem}"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(S)],s.i]}),t})();var w=i("tk/3"),A=i("jICo"),L=i("WR+W");let T=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(n){return new(n||t)},providers:[b.a,f.a,a.a,{provide:w.a,useClass:L.a,multi:!0}],imports:[[e.c,o.W,J,A.a,w.c]]}),t})()}}]);